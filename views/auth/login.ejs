<%- include('../partials/head.ejs') %>
    <!-- font awesome icons  -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous" />
    <link href="css/auth.css" rel="stylesheet">
    </head>

    <body class="text-center">
        <main class="form-signin w-100 m-auto shadow-lg p-3 mb-5">
            <form id="formLogin" action="/login" method="POST">
                <h1 class="h3 mb-3 fw-normal">Inicio de sesión</h1>

                <div class="form-floating mb-2">
                    <input type="text" class="form-control" id="user" name="user" placeholder="Nombre de Usuario"
                        autocomplete="off" maxlength="40">
                    <label for="user">Nombre de Usuario</label>
                </div>

                <div class="input-group mb-4">
                    <div class="form-floating mt-1">
                        <input type="password" class="form-control" id="password" name="password"
                            placeholder="Contraseña" maxlength="40">
                        <label for="password">Contraseña </label>
                    </div>

                    <div class="input-group-append ">
                        <span class="input-group-text mt-3 ms-1" onclick="password_show_hide();">
                            <i class="fas fa-eye" id="show_eye"></i>
                            <i class="fas fa-eye-slash d-none" id="hide_eye"></i>
                        </span>
                    </div>
                </div>

                <button class="w-100 btn btn-lg btn-primary" type="submit">Iniciar sesión</button>
            </form>

            <hr>
            <p>¿No tenes un usuario? <a href="/register">Registrate ahora</a>.</p>

            <%- include('../partials/footer.ejs') %>
        </main>
        <script src="/js/show-password.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.5.1/dist/sweetalert2.all.min.js"></script>
        <% if(alert) { %>
            <script>
                Swal.fire({
                    title: '<%= alertTitle %>',
                    text: '<%= alertMessage %>',
                    icon: '<%= alertIcon %>',
                    showConfirmButton: '<%= showConfirmButton %>',
                })

                if (ruta = 'login') {
                    setTimeout(() => {
                        window.location = '/<%= ruta %>'
                    }, 4000)
                } else {
                    setTimeout(() => {
                        window.location = '/<%= ruta %>'
                    }, 3000)
                }
            </script>
            <% } %>
    </body>

    </html>